import{r as v,q as g,s as h,c as i,a as s,h as k,b as R,t as n,m as I,p,i as b,z as Q,T as V,o as l,F as y,e as w,n as M,w as S,d as T,v as B}from"./index-D1oj5Jpk.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"checkin-view"},L={class:"page-header"},$={class:"header-actions"},q={class:"stats-grid"},z={class:"tech-card stat-item main-stat"},E={class:"stat-info"},F={class:"value"},G={class:"progress-container"},H={class:"tech-card stat-mini"},P={class:"number"},A={class:"tech-card stat-mini accent"},O={class:"number"},U={class:"tech-card logs-container"},j={class:"log-list"},J={class:"time"},K={class:"user-info"},W={class:"name"},X={class:"seat-badge"},Y={key:0,class:"empty-state"},Z={class:"modal-card"},ss={class:"modal-header"},ts={class:"modal-body"},es={class:"search-wrapper"},as={class:"list-container"},ns={class:"list-label"},os={class:"person-info"},is={class:"p-name"},ls={class:"p-phone"},ds=["onClick"],cs={key:0,class:"no-result"},rs={__name:"History",setup(us){const d=v({total:150,checkedIn:88,pending:62}),r=v([{id:"QR_882",name:"æ—å¿—ç²",phone:"0910-***-000",status:"pending",seat:"V-01"},{id:"QR_156",name:"å‘¨æ°å€«",phone:"0922-***-333",status:"pending",seat:"V-02"},{id:"P001",name:"ç‹å¤§åŒ",phone:"0912-345-678",status:"pending",seat:"A-12"},{id:"P002",name:"é™³å°ç¾",phone:"0987-654-321",status:"pending",seat:"B-05"}]),u=v([]),c=g(!1),o=g(""),m=h(()=>Math.round(d.checkedIn/d.total*100)),_=h(()=>o.value?r.filter(a=>a.status==="pending"&&a.name.includes(o.value)):[]),x=h(()=>r.filter(a=>a.status==="pending").slice(0,5)),f=(a,t)=>{a.status="checked-in";const e=new Date;u.unshift({id:Date.now(),name:a.name,time:e.toLocaleTimeString(),method:t,seat:a.seat||"ç¾å ´å®‰æ’"}),d.checkedIn++,d.pending--,c.value=!1,o.value=""},C=()=>{const a=r.filter(e=>e.status==="pending");if(a.length===0)return alert("åå–®å·²å…¨éƒ¨å ±åˆ°");const t=a[Math.floor(Math.random()*a.length)];f(t,"QR Scan")};return(a,t)=>(l(),i("div",D,[s("div",L,[t[5]||(t[5]=s("div",{class:"title-group"},[s("h2",{class:"title"},"6. ç¾å ´å ±åˆ°ç´€éŒ„"),s("span",{class:"live-indicator"},"â— LIVE ç³»çµ±åŒæ­¥ä¸­")],-1)),s("div",$,[s("button",{class:"btn-qr-simulate",onClick:C},[...t[4]||(t[4]=[s("span",{class:"icon"},"ğŸ“±",-1),R(" æ¨¡æ“¬ QR æƒæ ",-1)])]),s("button",{class:"btn-primary-rounded",onClick:t[0]||(t[0]=e=>c.value=!0)},"æ‰‹å‹•å ±åˆ°è£œéŒ„")])]),s("div",q,[s("div",z,[s("div",E,[t[6]||(t[6]=s("span",{class:"label"},"ç•¶å‰å ±åˆ°ç‡",-1)),s("div",F,n(m.value)+"%",1)]),s("div",G,[s("div",{class:"progress-bar",style:I({width:m.value+"%"})},null,4)])]),s("div",H,[t[7]||(t[7]=s("span",{class:"label"},"æ‡‰åˆ°äººæ•¸",-1)),s("div",P,n(d.total),1)]),s("div",A,[t[8]||(t[8]=s("span",{class:"label"},"å·²å ±åˆ°",-1)),s("div",O,n(d.checkedIn),1)])]),s("div",U,[t[10]||(t[10]=s("div",{class:"card-header"},[s("h3",{class:"subtitle"},"å³æ™‚å ±åˆ°ç´€éŒ„æµ")],-1)),s("div",j,[k(Q,{name:"list"},{default:b(()=>[(l(!0),i(y,null,w(u,e=>(l(),i("div",{key:e.id,class:"log-item"},[s("span",J,n(e.time),1),s("div",K,[s("span",W,n(e.name),1),s("span",X,n(e.seat),1)]),s("div",{class:M(["method-tag",e.method==="QR Scan"?"tag-qr":"tag-manual"])},n(e.method==="QR Scan"?"ğŸ“± QR æƒæ":"âŒ¨ï¸ æ‰‹å‹•è£œéŒ„"),3),t[9]||(t[9]=s("span",{class:"status-ok"},"âœ… å ±åˆ°æˆåŠŸ",-1))]))),128))]),_:1}),u.length===0?(l(),i("div",Y,"ç­‰å¾…å ±åˆ°æ•¸æ“šä¸­...")):p("",!0)])]),k(V,{name:"modal-fade"},{default:b(()=>[c.value?(l(),i("div",{key:0,class:"modal-overlay",onClick:t[3]||(t[3]=S(e=>c.value=!1,["self"]))},[s("div",Z,[s("div",ss,[t[12]||(t[12]=s("div",{class:"header-title"},[s("span",{class:"icon"},"ğŸ”"),s("h3",null,"æ‰‹å‹•å ±åˆ°æœå°‹")],-1)),s("button",{class:"close-circle-btn",onClick:t[1]||(t[1]=e=>c.value=!1)},[...t[11]||(t[11]=[s("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[s("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),s("div",ts,[s("div",es,[T(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.value=e),class:"input-rounded w-full",placeholder:"è¼¸å…¥å§“åæˆ–é—œéµå­—...",autofocus:""},null,512),[[B,o.value]])]),s("div",as,[s("p",ns,n(o.value?"æœå°‹çµæœ":"å¾…å ±åˆ°å»ºè­°åå–®"),1),(l(!0),i(y,null,w(o.value?_.value:x.value,e=>(l(),i("div",{key:e.id,class:"person-row"},[s("div",os,[s("span",is,n(e.name),1),s("span",ls,n(e.phone),1)]),s("button",{class:"btn-check-action",onClick:vs=>f(e,"Manual")},"é»æ“Šå ±åˆ°",8,ds)]))),128)),o.value&&_.value.length===0?(l(),i("div",cs,"æŸ¥ç„¡æœªå ±åˆ°åå–®")):p("",!0)])])])])):p("",!0)]),_:1})]))}},ms=N(rs,[["__scopeId","data-v-6c04ec84"]]);export{ms as default};
